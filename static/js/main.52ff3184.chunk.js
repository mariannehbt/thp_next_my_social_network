(this.webpackJsonpflamingo=this.webpackJsonpflamingo||[]).push([[0],{26:function(e,t,a){e.exports=a(42)},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=a(2),s=a(12),i=a(24),m=a(1),u=a(5),d=a.n(u),E={loading:!1,login:d.a.get("token"),error:null},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOGIN_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"FETCH_LOGIN_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,login:t.login});case"FETCH_LOGIN_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});case"FETCH_LOGOUT_SUCCESS":return d.a.remove("token"),Object(m.a)(Object(m.a)({},e),{},{loading:!1,login:d.a.get("token"),error:null});default:return e}},b={loading:!1,postDelete:[],error:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTDELETE_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"FETCH_POSTDELETE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,postDelete:t.postDelete});case"FETCH_POSTDELETE_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});default:return e}},g={loading:!1,postNew:[],error:null},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTNEW_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"FETCH_POSTNEW_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,postNew:t.postNew});case"FETCH_POSTNEW_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});default:return e}},v={loading:!1,posts:[],error:null},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"FETCH_POSTS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,posts:t.posts});case"FETCH_POSTS_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});default:return e}},h={loading:!1,profile:[],error:null},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PROFILE_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"FETCH_PROFILE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,profile:t.profile});case"FETCH_PROFILE_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});default:return e}},_={loading:!1,profileUpdate:[],error:null},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PROFILEUPDATE_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"FETCH_PROFILEUPDATE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,profileUpdate:t.profileUpdate});case"FETCH_PROFILEUPDATE_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});default:return e}},C={loading:!1,registration:d.a.get("token"),error:null},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REGISTER_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"FETCH_REGISTER_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,registration:t.registration});case"FETCH_REGISTER_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});case"FETCH_UNREGISTER_SUCCESS":return d.a.remove("token"),Object(m.a)(Object(m.a)({},e),{},{loading:!1,registration:d.a.get("token"),error:null});default:return e}},j={loading:!1,users:[],error:null},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"FETCH_USERS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,users:t.users});case"FETCH_USERS_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});default:return e}},U=Object(s.c)({log:p,postDelete:f,postNew:N,posts:S,profile:O,profileUpdate:T,register:y,users:F}),w=Object(s.e)(U,Object(s.d)(Object(s.a)(i.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),R=a(25),I=a(4),H=a(6),L=function(){return function(e){e({type:"FETCH_POSTS_REQUEST"}),fetch("https://api-minireseausocial.mathis-dyk.fr/posts").then((function(e){return e.json()})).then((function(t){"error"===t.status?e({type:"FETCH_POSTS_FAILURE",error:t.message}):e({type:"FETCH_POSTS_SUCCESS",posts:t})}))}},x=function(e){var t={post:e};return function(a){a({type:"FETCH_POSTDELETE_REQUEST"}),fetch("https://api-minireseausocial.mathis-dyk.fr/posts/".concat(e),{method:"delete",headers:{Authorization:"Bearer ".concat(d.a.get("token")),"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){null!=e.error?a({type:"FETCH_POSTDELETE_FAILURE",error:e.message}):(a(function(e){return{type:"FETCH_POSTDELETE_SUCCESS",postDelete:e}}(e)),a(L()))}))}},k=function(e){return function(t){t({type:"FETCH_USERS_REQUEST"}),fetch("https://api-minireseausocial.mathis-dyk.fr/users/".concat(e),{method:"get",headers:{Authorization:"Bearer ".concat(d.a.get("token")),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){null!=e.error?(t({type:"FETCH_USERS_FAILURE",error:e.message}),alert(e.message)):t({type:"FETCH_USERS_SUCCESS",users:e})}))}},P=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.log.login})),a=Object(o.c)((function(e){return e.register.registration})),n=Object(o.c)((function(e){return e.profile.profile}));return null==t&&null==a?r.a.createElement("div",{className:"btn-group",role:"group"},r.a.createElement("button",{id:"btnGroupDrop1",type:"button",className:"btn btn-info dropdown-toggle px-5","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Connexion"),r.a.createElement("div",{className:"dropdown-menu w-100"},r.a.createElement(H.b,{className:"dropdown-item",to:"/auth/local/register"},"Sign In"),r.a.createElement(H.b,{className:"dropdown-item",to:"/auth/local"},"Login"))):r.a.createElement("div",{className:"btn-group",role:"group"},r.a.createElement("button",{id:"btnGroupDrop1",type:"button",className:"btn btn-info dropdown-toggle px-5","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},null!=n.username?n.username:"Welcome !"),r.a.createElement("div",{className:"dropdown-menu w-100"},r.a.createElement(H.b,{className:"dropdown-item",to:"/profile"},"My Profile"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("button",{className:"dropdown-item",onClick:function(){return e((function(e){e({type:"FETCH_LOGOUT_SUCCESS"}),e({type:"FETCH_UNREGISTER_SUCCESS"})}))}},"LogOut")))},D=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(H.b,{className:"navbar-brand",to:"/"},"My Social Network"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"}),r.a.createElement(P,null)))},A=function(){var e=Object(o.b)();return r.a.createElement("header",null,r.a.createElement("div",{className:"overlay"}),r.a.createElement("video",{playsInline:"playsinline",autoPlay:"autoplay",muted:"muted",loop:"loop"},r.a.createElement("source",{src:"https://storage.googleapis.com/coverr-main/mp4/Mt_Baker.mp4",type:"video/mp4"})),r.a.createElement("div",{className:"container h-100"},r.a.createElement("div",{className:"d-flex h-100 text-center align-items-center"},r.a.createElement("div",{className:"w-100 text-white"},r.a.createElement("h1",{className:"display-3"},"My Social Network"),r.a.createElement("p",{className:"lead mb-0"},"Welcome on My Social Network"),r.a.createElement("button",{className:"btn btn-outline-info mt-3 mr-3",onClick:function(){return e(L())}},"See posts")))))},G=function(){var e=Object(o.c)((function(e){return e.log.login})),t=Object(o.c)((function(e){return e.profile.profile})),a=Object(o.c)((function(e){return e.register.registration})),n=Object(o.b)();return null==e&&null==a?null:r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=document.getElementById("text").value,r=void 0===t.id?null:t.id;n(function(e,t){var a={text:e,user:t};return function(e){e({type:"FETCH_POSTNEW_REQUEST"}),fetch("https://api-minireseausocial.mathis-dyk.fr/posts",{method:"post",headers:{Authorization:"Bearer ".concat(d.a.get("token")),"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){null!=t.error?(e({type:"FETCH_POSTNEW_FAILURE",error:t.message}),alert(t.message)):(e(function(e){return{type:"FETCH_POSTNEW_SUCCESS",postNew:e}}(t)),e(L()))})).catch((function(e){return console.error("error:",e)}))}}(a,r))}},r.a.createElement("div",{className:"input-group my-3"},r.a.createElement("textarea",{type:"text",className:"form-control",rows:"1",id:"text",placeholder:"Write something here"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-info",type:"submit"},"Post"))))},B=a(11),Q=a.n(B),W=function(){var e=Object(o.c)((function(e){return e.log.login})),t=Object(o.c)((function(e){return e.posts.posts})),a=Object(o.c)((function(e){return e.register.registration})),n=Object(o.b)(),l=t.sort((function(e,t){return new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()})).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title",onClick:function(){return n(k(e.user.id))}},e.user?r.a.createElement(H.b,{to:"/user/".concat(e.user.id)},e.user.username):null),r.a.createElement("p",{className:"card-text"},e.text),r.a.createElement("button",{className:"btn btn-info mr-2"},"Like",r.a.createElement("span",{className:"badge badge-light badge-pill mr-2"},e.like)),r.a.createElement("button",{className:"btn btn-outline-warning mr-2"},"Info"),r.a.createElement("button",{className:"btn btn-outline-danger mr-2",onClick:function(){return n(x(e.id))}},"Delete")),r.a.createElement("div",{className:"card-footer"},r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},"Last updated ",Q()(e.updated_at).fromNow())))))})),c=t.sort((function(e,t){return new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()})).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},e.text)),r.a.createElement("div",{className:"card-footer"},r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},"Last updated ",Q()(e.updated_at).fromNow())))))}));return null==e&&null==a?r.a.createElement("div",{className:"mt-3"},c):r.a.createElement("div",{className:"mt-3"},l)},M=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"This website is a training to ",r.a.createElement("code",null,"Redux")," and ",r.a.createElement("code",null,"React"),"."),r.a.createElement("p",null,"We use auth and routing to create a small social media website."),r.a.createElement("p",{className:"mb-0"},"Video header created by ",r.a.createElement("a",{href:"https://startbootstrap.com"},"Start Bootstrap"),"."))},J=function(){return r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement("section",{className:"mb-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 mx-auto"},r.a.createElement(G,null),r.a.createElement(W,null),r.a.createElement(M,null))))))},z=function(){var e=Object(o.b)();return r.a.createElement("div",null,r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=document.getElementById("identifier").value,n=document.getElementById("password").value;e(function(e,t){var a={identifier:e,password:t};return function(e){e({type:"FETCH_LOGIN_REQUEST"}),fetch("https://api-minireseausocial.mathis-dyk.fr/auth/local",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){null!=t.error?(e({type:"FETCH_LOGIN_FAILURE",error:t.message[0].messages[0].message}),alert(t.message[0].messages[0].message)):(d.a.set("token",t.jwt),e(function(e){return{type:"FETCH_LOGIN_SUCCESS",login:e}}(d.a.get("token"))))})).catch((function(e){return console.error("error:",e)}))}}(a,n))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"identifier","aria-describedby":"identifierHelp",placeholder:"Identifier"}),r.a.createElement("small",{id:"identifierHelp",className:"form-text text-muted"},"Username or Email")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password"})),r.a.createElement("button",{type:"submit",className:"btn btn-info"},"Submit")))},X=function(){return r.a.createElement("div",null,r.a.createElement("section",{className:"mb-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 mx-auto"},r.a.createElement("h1",null,"Authentification"),r.a.createElement(z,null))))))},V=function(){var e=Object(o.c)((function(e){return e.profile.profile})),t=Object(o.c)((function(e){return e.posts.posts})),a=Object(o.b)(),n=t.filter((function(t){return null!=t.user&&t.user.id===e.id})).sort((function(e,t){return new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()})).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"card my-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title",onClick:function(){return a(k(e.user.id))}},e.user?r.a.createElement(H.b,{to:"/user/".concat(e.user.id)},e.user.username):null),r.a.createElement("p",{className:"card-text"},e.text),r.a.createElement("button",{className:"btn btn-info mr-2"},"Like",r.a.createElement("span",{className:"badge badge-light badge-pill mr-2"},e.like)),r.a.createElement("button",{className:"btn btn-outline-warning mr-2"},"Info"),r.a.createElement("button",{className:"btn btn-outline-danger mr-2",onClick:function(){return a(x(e.id))}},"Delete")),r.a.createElement("div",{className:"card-footer"},r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},"Last updated ",Q()(e.updated_at).fromNow())))))}));return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n=e.id,r=document.getElementById("username").value,l=document.getElementById("description").value;a(function(e,t,a){var n={user:e,username:t,description:a};return function(t){t({type:"FETCH_PROFILEUPDATE_REQUEST"}),fetch("https://api-minireseausocial.mathis-dyk.fr/users/".concat(e),{method:"put",headers:{Authorization:"Bearer ".concat(d.a.get("token")),"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){null!=e.error?(t({type:"FETCH_PROFILEUPDATE_FAILURE",error:e.message}),alert(e.message)):(console.log(e),t(function(e){return{type:"FETCH_PROFILEUPDATE_SUCCESS",profileUpdate:e}}(e)))})).catch((function(e){return console.error("error:",e)}))}}(n,r,l))}},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-4 mb-3"},r.a.createElement("label",null,"Username"),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"@")),r.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:null!=e.username?e.username:""}))),r.a.createElement("div",{className:"col-md-8 mb-3"},r.a.createElement("label",null,"Email"),r.a.createElement("p",{className:"form-control"},null!=e.email?e.email:"Email"))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-12 mb-3"},r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{type:"text",className:"form-control",id:"description",placeholder:null!=e.description?e.description:""}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",null,"Last profile update :"),r.a.createElement("p",{className:"form-control"},Q()(e.updated_at).calendar())),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",null,"Member since :"),r.a.createElement("p",{className:"form-control"},Q()(e.created_at).calendar()))),r.a.createElement("button",{className:"btn btn-info mr-3",type:"submit"},"Confirm changes")),r.a.createElement("button",{className:"btn btn-outline-info mt-3",onClick:function(){return a(L())}},"See posts"),n)},q=function(){return r.a.createElement("div",null,r.a.createElement("section",{className:"mb-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 mx-auto"},r.a.createElement("h1",null,"Profile"),r.a.createElement(V,null))))))},K=function(){var e=Object(o.b)();return r.a.createElement("div",null,r.a.createElement("h2",null,"Sign In"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=document.getElementById("username").value,n=document.getElementById("email").value,r=document.getElementById("password").value;e(function(e,t,a){var n={username:e,email:t,password:a};return function(e){e({type:"FETCH_REGISTER_REQUEST"}),fetch("https://api-minireseausocial.mathis-dyk.fr/auth/local/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){null!=t.error?(e({type:"FETCH_REGISTER_FAILURE",error:t.message[0].messages[0].message}),alert(t.message[0].messages[0].message)):(d.a.set("token",t.jwt),e({type:"FETCH_REGISTER_SUCCESS",registration:d.a.get("token")}))})).catch((function(e){return console.error("error:",e)}))}}(a,n,r))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"sr-only"},"Username"),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"@")),r.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"Username"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Email address"}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password"})),r.a.createElement("button",{type:"submit",className:"btn btn-info"},"Submit")))},Y=function(){return r.a.createElement("div",null,r.a.createElement("section",{className:"mb-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 mx-auto"},r.a.createElement("h1",null,"Authentification"),r.a.createElement(K,null))))))},Z=function(){var e=Object(o.c)((function(e){return e.users.users})),t=Object(o.c)((function(e){return e.posts.posts})),a=Object(o.b)(),n=t.filter((function(t){return null!=t.user&&t.user.id===e.id})).sort((function(e,t){return new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()})).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"card my-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title",onClick:function(){return a(k(e.user.id))}},e.user?r.a.createElement(H.b,{to:"/user/".concat(e.user.id)},e.user.username):null),r.a.createElement("p",{className:"card-text"},e.text),r.a.createElement("button",{className:"btn btn-info mr-2"},"Like",r.a.createElement("span",{className:"badge badge-light badge-pill mr-2"},e.like)),r.a.createElement("button",{className:"btn btn-outline-warning mr-2"},"Info"),r.a.createElement("button",{className:"btn btn-outline-danger mr-2",onClick:function(){return a(x(e.id))}},"Delete")),r.a.createElement("div",{className:"card-footer"},r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},"Last updated ",Q()(e.updated_at).fromNow())))))}));return r.a.createElement("div",null,r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-4 mb-3"},r.a.createElement("label",null,"Username"),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"@")),r.a.createElement("p",{className:"form-control"},null!=e.username?e.username:""))),r.a.createElement("div",{className:"col-md-8 mb-3"},r.a.createElement("label",null,"Email"),r.a.createElement("p",{className:"form-control"},null!=e.email?e.email:"Email"))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-12 mb-3"},r.a.createElement("label",null,"Description"),r.a.createElement("p",{className:"form-control"},null!=e.description?e.description:""))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",null,"Last user update :"),r.a.createElement("p",{className:"form-control"},Q()(e.updated_at).calendar())),r.a.createElement("div",{className:"col-md-6 mb-3"},r.a.createElement("label",null,"Member since :"),r.a.createElement("p",{className:"form-control"},Q()(e.created_at).calendar()))),r.a.createElement("button",{className:"btn btn-outline-info",onClick:function(){return a(L())}},"See posts"),n)},$=function(){return r.a.createElement("div",null,r.a.createElement("section",{className:"mb-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 mx-auto"},r.a.createElement("h1",null,"Profile"),r.a.createElement(Z,null))))))},ee=function(){var e=Object(o.c)((function(e){return e.log.login})),t=Object(o.c)((function(e){return e.register.registration})),a=Object(o.b)(),n=function(){return null!=e||null!=t};!0===n()&&a((function(e){e({type:"FETCH_PROFILE_REQUEST"}),fetch("https://api-minireseausocial.mathis-dyk.fr/users/me",{method:"get",headers:{Authorization:"Bearer ".concat(d.a.get("token")),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){null!=t.error?(e({type:"FETCH_PROFILE_FAILURE",error:t.message[0].messages[0].id}),alert(t.message[0].messages[0].id)):e({type:"FETCH_PROFILE_SUCCESS",profile:t})})).catch((function(e){return console.error("error:",e)}))}));var l=function(e){var t=e.component,a=Object(R.a)(e,["component"]);return r.a.createElement(I.b,Object.assign({},a,{render:function(e){return n()?r.a.createElement(t,e):r.a.createElement(I.a,{to:{pathname:"/auth/local"}})}}))};return r.a.createElement(H.a,null,r.a.createElement(D,null),r.a.createElement(I.d,null,r.a.createElement(I.b,{exact:!0,path:"/"},r.a.createElement(J,null)),r.a.createElement(I.b,{exact:!0,path:"/auth/local"},n()?r.a.createElement(I.a,{to:"/profile"}):r.a.createElement(X,null)),r.a.createElement(l,{exact:!0,path:"/profile",component:q}),r.a.createElement(I.b,{exact:!0,path:"/auth/local/register"},n()?r.a.createElement(I.a,{to:"/profile"}):r.a.createElement(Y,null)),r.a.createElement(I.b,{path:"/user/:userid"},r.a.createElement($,null))))};a(37),a(38),a(41);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:w},r.a.createElement(ee,null))),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.52ff3184.chunk.js.map